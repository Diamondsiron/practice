<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- <script src="./js/under.js"></script> -->
  <script src="./js/underTest.js"></script>
  <title>Document</title>
</head>
<body>
  <script>
  function rot13(str) {
  return str.replace(/[a-zA-Z]/g, function(c) {
                    return String.fromCharCode(
                      (c <= 'Z' ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26
                    );
                });
}
var a = "abc";
//rot13(a);
//工厂模式
function createObj1(name,age){
  var a = new Object();
  a.name=name;
  a.age = age;
  return a;
}
var obj = createObj1("name","age")
//函数模式
function createObj2(name,age){
  this.name = name;
  this.age = age;
}
var obj = new createObj1("name","age")
//原型模式
function creatObj3(){

}
creatObj3.prototype.name = "name";
creatObj3.prototype.age = "age";
var obj = new creatObj3();
function Person(){
  Person.prototype.name="name";
  Person.prototype.age="age";
  Person.prototype.job="job";
}
var person1 = new Person();
var person2 = new Person();
console.log(person1.name==person2.name)
console.log(Person.prototype.isPrototypeOf(person1))
Object.getPrototypeOf(person1)==Person.prototype
person1.hasOwnProperty("name")//false 来自原型
person1.name="person"
person1.hasOwnProperty("name");//true 来自实例
//组合使用函数和原型模式
function Person(name,age,job){
  this.name = name;
  this.age = age;
  this.job = job;
};
Person.prototype = {
  constructor : Person,
  sayName : function(){
    console.log(this.name)
  }
}
var person1 = new Person("a","b","c")
var person2 = new Person("a1","b1","c1")
//动态原型模式

var Vector = function (components) {
  let result = [...components];
  // TODO: Finish the Vector class.
  this.add=function(array){
    if(result.length==array.value.length){
        let res = []
        for(let i=0; i<result.length; i++){
          res.push(result[i]+array.value[i])
        }
        let results = [...res]
        let obj = new Vector(results)
        return obj
    }else{
       let e = "throws an error"
       //throw new Error(e);
       return e
    }

  },
  this.subtract=function(array){
     if(result.length==array.value.length){
        let res = []
        for(let i=0; i<result.length; i++){
          res.push(result[i]-array.value[i])
        }
        let results = [...res]
        let obj = new Vector(results)
        return obj
    }else{
       let e = "throws an error"
        throw new Error(e);
    }
  },
  this.dot=function(array){
     if(result.length==array.value.length){
        let res = []
        for(let i=0; i<result.length; i++){
          res.push(result[i]*array.value[i])
        }
        let results = [...res]
        
        
        return results.reduce((a,item)=>{
          return item+a
        })
    }else{
        let e = "throws an error"
        throw new Error(e);
      
      
    }
  },
  this.norm=function(array){
     
        let res = []
        for(let i=0; i<result.length; i++){
          res.push(result[i]^2)
        }
        let results = [...res]
        let obj = results.reduce((a,item)=>{
          return item+a
        })
        return Math.sqrt(obj)
    
    
  },
  this.toString = function(){
    return "("+result.join(",")+")"
  }
  this.equals =function(obj){
     let resultss = JSON.parse(JSON.stringify(obj))==JSON.parse(JSON.stringify(this))
     return resultss
  } 
  this.value = result
  //return result
};
var a = new Vector([1, 2, 3]);
var b = new Vector([3, 4, 5]);
var c = new Vector([5, 6, 7, 8]);
  </script>
</body>
</html>